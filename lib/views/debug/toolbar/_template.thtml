<?# $Id$ ?>
<?
   $values = array();
   foreach (Dispatcher::$controller->view->data as $key => $value) {
      if (is_array($value)) {
         $dump = dump($value, true);
         $value = link_to(h((string) $value), '#', array(
            'onclick' => '$(this.nextSibling).toggle(); return false'
         ));
         $value .= '<div style="display: none">'.$dump.'</div>';
      } elseif (is_object($value)) {
         $value = h((string) $value);
      } else {
         $value = h(var_export($value, true));
      }

      $values[h($key)] = $value;
   }

   ksort($values);
?>
<? if ($values): ?>
<span>Template: <?= count($values) ?> values</span>
<div><?= table_tag($values, array('escape' => false)) ?></div>
<? endif ?>
